// Simple markdown parser fallback
window.marked = {
  parse: function(markdown) {
    return markdown
      .replace(/^# (.*$)/gim, '<h1>$1</h1>')
      .replace(/^## (.*$)/gim, '<h2>$1</h2>')
      .replace(/^### (.*$)/gim, '<h3>$1</h3>')
      .replace(/^\*\*(.*)\*\*/gim, '<strong>$1</strong>')
      .replace(/^\*(.*)\*/gim, '<em>$1</em>')
      .replace(/\$\$([\s\S]*?)\$\$/g, '<div class="math-display">$1</div>')
      .replace(/\$(.*?)\$/g, '<span class="math-inline">$1</span>')
      .replace(/^---$/gm, '<hr>')
      .replace(/\n\n/g, '</p><p>')
      .replace(/\n/g, '<br>')
      .replace(/^(.)/gm, '<p>$1')
      .replace(/$(.)/gm, '$1</p>');
  },
  setOptions: function() {}
};